[I 251205 15:48:07 web:2407] 304 GET / (::1) 207.24ms
[I 251205 15:48:07 web:2407] 101 GET /ws/v1/python (::1) 6.73ms
[I 251205 15:48:07 shell:189] create process pid: 31471
[I 251205 15:48:07 web:2407] 304 GET /api/v1/version (::1) 0.81ms
[I 251205 15:48:09 web:2407] 200 POST /api/v1/connect (::1) 14.51ms
[I 251205 15:48:09 page:207] Serial: AndroidADB:
[I 251205 15:48:10 web:2407] 200 GET /api/v1/devices/AndroidADB%3A/screenshot (::1) 534.63ms
[E 251205 15:48:16 web:1934] Uncaught exception GET /api/v2/devices/AndroidADB%3A/hierarchy (::1)
    HTTPServerRequest(protocol='http', host='localhost:17310', method='GET', uri='/api/v2/devices/AndroidADB%3A/hierarchy', version='HTTP/1.1', remote_ip='::1')
    Traceback (most recent call last):
      File "/Users/liuqianlong/.pyenv/versions/3.10.12/lib/python3.10/site-packages/tornado/web.py", line 1846, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/liuqianlong/.pyenv/versions/3.10.12/lib/python3.10/site-packages/weditor/web/handlers/page.py", line 97, in get
        self.write(d.dump_hierarchy2())
      File "/Users/liuqianlong/.pyenv/versions/3.10.12/lib/python3.10/site-packages/weditor/web/device.py", line 44, in dump_hierarchy2
        page_xml = self._d.dump_hierarchy()
      File "/Users/liuqianlong/.pyenv/versions/3.10.12/lib/python3.10/site-packages/adbutils/shell.py", line 487, in dump_hierarchy
        raise AdbError("uiautomator dump failed", output)
    adbutils.errors.AdbError: ('uiautomator dump failed', 'Killed')
[E 251205 15:48:16 web:2407] 500 GET /api/v2/devices/AndroidADB%3A/hierarchy (::1) 5803.34ms
[W 251205 15:48:24 page:71] device connect error: [server] INFO: [UiAutomator2Server] Starting Server
    java.lang.IllegalStateException: UiAutomationService android.accessibilityservice.IAccessibilityServiceClient$Stub$Proxy@458d097already registered!
    	at android.os.Parcel.createExceptionOrNull(Parcel.java:3264)
    	at android.os.Parcel.createException(Parcel.java:3240)
    	at android.os.Parcel.readException(Parcel.java:3223)
    	at android.os.Parcel.readException(Parcel.java:3165)
    	at android.view.accessibility.IAccessibilityManager$Stub$Proxy.registerUiTestAutomationService(IAccessibilityManager.java:1098)
    	at android.app.UiAutomationConnection.registerUiTestAutomationServiceLocked(UiAutomationConnection.java:651)
    	at android.app.UiAutomationConnection.connect(UiAutomationConnection.java:119)
    	at android.app.UiAutomation.connectWithTimeout(UiAutomation.java:385)
    	at java.lang.reflect.Method.invoke(Native Method)
    	at mirror.RefMethod.call(RefMethod.java:63)
    	at uiautomator.InstrumentShellWrapper.getUiAutomation(InstrumentShellWrapper.java:101)
    	at androidx.test.uiautomator.UiDevice$Api24Impl.getUiAutomationWithRetry(UiDevice.java:1545)
    	at androidx.test.uiautomator.UiDevice.getUiAutomation(UiDevice.java:1468)
    	at androidx.test.uiautomator.QueryController.<init>(QueryController.java:95)
    	at androidx.test.uiautomator.UiDevice.<init>(UiDevice.java:115)
    	at androidx.test.uiautomator.UiDevice.getInstance(UiDevice.java:296)
    	at com.wetest.uia2.Main.runServer(Main.java:50)
    	at com.wetest.uia2.Main.main(Main.java:30)
    	at com.android.internal.os.RuntimeInit.nativeFinishInit(Native Method)
    	at com.android.internal.os.RuntimeInit.main(RuntimeInit.java:382)
    java.lang.IllegalStateException: UiAutomation not connected, UiAutomation@31eeb31[id=-1, displayId=0, flags=0]
    	at android.app.UiAutomation.throwIfNotConnectedLocked(UiAutomation.java:1781)
    	at android.app.UiAutomation.getServiceInfo(UiAutomation.java:805)
    	at androidx.test.uiautomator.UiDevice.getUiAutomation(UiDevice.java:1482)
    	at androidx.test.uiautomator.QueryController.<init>(QueryController.java:95)
    	at androidx.test.uiautomator.UiDevice.<init>(UiDevice.java:115)
    	at androidx.test.uiautomator.UiDevice.getInstance(UiDevice.java:296)
    	at com.wetest.uia2.Main.runServer(Main.java:50)
    	at com.wetest.uia2.Main.main(Main.java:30)
    	at com.android.internal.os.RuntimeInit.nativeFinishInit(Native Method)
    	at com.android.internal.os.RuntimeInit.main(RuntimeInit.java:382)
    
[E 251205 15:48:24 web:2407] 500 POST /api/v1/connect (::1) 1323.04ms
[I 251205 15:48:38 web:2407] 304 GET / (::1) 1.81ms
[W 251205 15:48:38 shell:83] websocket closed, cleanup
[I 251205 15:48:38 shell:118] process quited with code -9
[I 251205 15:48:38 web:2407] 101 GET /ws/v1/python (::1) 7.72ms
[I 251205 15:48:38 shell:189] create process pid: 31734
[I 251205 15:48:38 web:2407] 304 GET /api/v1/version (::1) 0.81ms
[W 251205 15:48:42 page:71] device connect error: [server] INFO: [UiAutomator2Server] Starting Server
    java.lang.IllegalStateException: UiAutomationService android.accessibilityservice.IAccessibilityServiceClient$Stub$Proxy@458d097already registered!
    	at android.os.Parcel.createExceptionOrNull(Parcel.java:3264)
    	at android.os.Parcel.createException(Parcel.java:3240)
    	at android.os.Parcel.readException(Parcel.java:3223)
    	at android.os.Parcel.readException(Parcel.java:3165)
    	at android.view.accessibility.IAccessibilityManager$Stub$Proxy.registerUiTestAutomationService(IAccessibilityManager.java:1098)
    	at android.app.UiAutomationConnection.registerUiTestAutomationServiceLocked(UiAutomationConnection.java:651)
    	at android.app.UiAutomationConnection.connect(UiAutomationConnection.java:119)
    	at android.app.UiAutomation.connectWithTimeout(UiAutomation.java:385)
    	at java.lang.reflect.Method.invoke(Native Method)
    	at mirror.RefMethod.call(RefMethod.java:63)
    	at uiautomator.InstrumentShellWrapper.getUiAutomation(InstrumentShellWrapper.java:101)
    	at androidx.test.uiautomator.UiDevice$Api24Impl.getUiAutomationWithRetry(UiDevice.java:1545)
    	at androidx.test.uiautomator.UiDevice.getUiAutomation(UiDevice.java:1468)
    	at androidx.test.uiautomator.QueryController.<init>(QueryController.java:95)
    	at androidx.test.uiautomator.UiDevice.<init>(UiDevice.java:115)
    	at androidx.test.uiautomator.UiDevice.getInstance(UiDevice.java:296)
    	at com.wetest.uia2.Main.runServer(Main.java:50)
    	at com.wetest.uia2.Main.main(Main.java:30)
    	at com.android.internal.os.RuntimeInit.nativeFinishInit(Native Method)
    	at com.android.internal.os.RuntimeInit.main(RuntimeInit.java:382)
    java.lang.IllegalStateException: UiAutomation not connected, UiAutomation@75992cc[id=-1, displayId=0, flags=0]
    	at android.app.UiAutomation.throwIfNotConnectedLocked(UiAutomation.java:1781)
    	at android.app.UiAutomation.getServiceInfo(UiAutomation.java:805)
    	at androidx.test.uiautomator.UiDevice.getUiAutomation(UiDevice.java:1482)
    	at androidx.test.uiautomator.QueryController.<init>(QueryController.java:95)
    	at androidx.test.uiautomator.UiDevice.<init>(UiDevice.java:115)
    	at androidx.test.uiautomator.UiDevice.getInstance(UiDevice.java:296)
    	at com.wetest.uia2.Main.runServer(Main.java:50)
    	at com.wetest.uia2.Main.main(Main.java:30)
    	at com.android.internal.os.RuntimeInit.nativeFinishInit(Native Method)
    	at com.android.internal.os.RuntimeInit.main(RuntimeInit.java:382)
    
[E 251205 15:48:42 web:2407] 500 POST /api/v1/connect (::1) 702.03ms
[I 251205 15:48:48 web:2407] 200 POST /api/v1/connect (::1) 16.23ms
[I 251205 15:48:51 page:207] Serial: AndroidADB:
[I 251205 15:48:52 web:2407] 200 GET /api/v1/devices/AndroidADB%3A/screenshot (::1) 751.85ms
[E 251205 15:48:58 web:1934] Uncaught exception GET /api/v2/devices/AndroidADB%3A/hierarchy (::1)
    HTTPServerRequest(protocol='http', host='localhost:17310', method='GET', uri='/api/v2/devices/AndroidADB%3A/hierarchy', version='HTTP/1.1', remote_ip='::1')
    Traceback (most recent call last):
      File "/Users/liuqianlong/.pyenv/versions/3.10.12/lib/python3.10/site-packages/tornado/web.py", line 1846, in _execute
        result = method(*self.path_args, **self.path_kwargs)
      File "/Users/liuqianlong/.pyenv/versions/3.10.12/lib/python3.10/site-packages/weditor/web/handlers/page.py", line 97, in get
        self.write(d.dump_hierarchy2())
      File "/Users/liuqianlong/.pyenv/versions/3.10.12/lib/python3.10/site-packages/weditor/web/device.py", line 44, in dump_hierarchy2
        page_xml = self._d.dump_hierarchy()
      File "/Users/liuqianlong/.pyenv/versions/3.10.12/lib/python3.10/site-packages/adbutils/shell.py", line 487, in dump_hierarchy
        raise AdbError("uiautomator dump failed", output)
    adbutils.errors.AdbError: ('uiautomator dump failed', 'Killed')
[E 251205 15:48:58 web:2407] 500 GET /api/v2/devices/AndroidADB%3A/hierarchy (::1) 5633.40ms
[I 251205 15:49:10 web:2407] 200 GET /api/v1/version (::1) 0.24ms
[I 251205 15:49:23 web:2407] 200 GET /api/v1/version (::1) 0.33ms
[I 251205 15:49:33 web:2407] 200 GET /api/v1/version (::1) 0.23ms
